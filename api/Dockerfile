# CREATING DOCKER FILE TO AUTOMTE THE PROCESS OF CREATING A DOCKER IMAGE

# PARENT LAYER - SETUP OS AND RUN TIME FOR OUR IMAGE
FROM node:18-alpine

RUN npm install -g nodemon

WORKDIR /app

COPY package.json .

#THIRD  LAYER - INTRCUTIONS TO INSTALL DEPENDENCIES & SETUP CONFIGURATIONS
RUN npm install

# SECOND LAYER - COPYING SRC CODE TO THE IMAGE FOLDER STRCUTURE. FIRST DOT REPRESENTS RELATIVE PATH OF OUR CODE AND SECOND DOT REPRESENTS WHERE IN OUR IMAGE FOLDER
COPY . .

EXPOSE 4000

# FOURTH LAYER - SPECIFY CMD TO RUN CONTAINER 
CMD  ["npm", "run", "start:dev"]